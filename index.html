<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MedEase Pharmacy App</title>
  <link rel="stylesheet" href="css/style.css"/>
  <link rel="manifest" href="./manifest.json">
</head>
<body>
  <div class="app-container">
    <aside class="sidebar">
      <div class="logo">MedEase</div>
      <ul>
        <li><button class="nav-btn active" data-target="dashboard">Dashboard</button></li>
        <li><button class="nav-btn" data-target="suppliers">Suppliers</button></li>
        <li><button class="nav-btn" data-target="inventory">Inventory</button></li>
        <li><button class="nav-btn" data-target="dues">Dues</button></li>
        <li><button class="nav-btn" data-target="pos">POS</button></li>
        <li><button class="nav-btn" data-target="sales">Sales</button></li>
      </ul>
    </aside>
    <main class="main-content">
      <section id="dashboard" class="module-section active">
        <h2>Dashboard</h2>
        <div id="dashboard-datetime"></div>
        <div class="dashboard-grid">
          <div class="card"><h3>Sales Today</h3><p id="dash-sales">৳0.00</p></div>
          <div class="card"><h3>Stock Value</h3><p id="dash-stock-value">৳0.00</p></div>
          <div class="card"><h3>Suppliers</h3><p id="dash-suppliers">0</p></div>
          <div class="card"><h3>Dues</h3><p id="dash-dues">৳0.00</p></div>
          <div class="card"><h3>Profit Today</h3><p id="dashboard-today-profit">৳0.00</p></div>
          <div class="card"><h3>Profit Monthly</h3><p id="dashboard-monthly-profit">৳0.00</p></div>
        </div>
        <button id="dashboard-refresh" class="primary-btn">Refresh</button>
        <button id="clear-profit-today" class="danger-btn">Clear Today</button>
        <button id="clear-profit-monthly" class="danger-btn">Clear Monthly</button>
      </section>

      <section id="suppliers" class="module-section">
        <h2>Suppliers</h2>
        <form id="supplier-form">
          <input type="text" id="sup-company-name" placeholder="Company Name"/>
          <input type="text" id="sup-supplier-name" placeholder="Supplier Name"/>
          <input type="text" id="sup-contact" placeholder="Contact"/>
          <button type="submit" class="primary-btn">Add Supplier</button>
        </form>
        <input type="search" id="search-suppliers" placeholder="Search suppliers"/>
        <button id="export-suppliers" class="secondary-btn">Export</button>
        <input type="file" id="import-suppliers"/>
        <button id="import-suppliers-btn" class="secondary-btn">Import</button>
        <table>
          <thead><tr><th>ID</th><th>Company</th><th>Name</th><th>Contact</th><th>Actions</th></tr></thead>
          <tbody id="supplier-table-body"></tbody>
        </table>
      </section>

      <section id="inventory" class="module-section">
        <h2>Inventory</h2>
        <form id="inventory-form">
          <input type="text" id="inv-name" placeholder="Item Name"/>
          <select id="inv-supplier"></select>
          <input type="number" id="inv-stock" placeholder="Stock"/>
          <input type="number" step="0.01" id="inv-buying-price" placeholder="Buying Price"/>
          <input type="number" step="0.01" id="inv-selling-price" placeholder="Selling Price"/>
          <input type="text" id="inv-batch-number" placeholder="Batch Number"/>
          <input type="date" id="inv-expiry-date"/>
          <button type="submit" class="primary-btn">Add Item</button>
        </form>
        <input type="search" id="search-inventory" placeholder="Search inventory"/>
        <button id="export-inventory" class="secondary-btn">Export</button>
        <input type="file" id="import-inventory"/>
        <button id="import-inventory-btn" class="secondary-btn">Import</button>
        <table>
          <thead><tr><th>ID</th><th>Name</th><th>Supplier</th><th>Stock</th><th>Buying</th><th>Selling</th><th>Batch</th><th>Expiry</th><th>Actions</th></tr></thead>
          <tbody id="inventory-table-body"></tbody>
        </table>
        <h3>Expiring Soon</h3>
        <table><tbody id="stock-expiring-body"></tbody></table>
        <h3>Low Stock</h3>
        <table><tbody id="stock-low-body"></tbody></table>
      </section>

      <section id="dues" class="module-section">
        <h2>Dues</h2>
        <form id="dues-form">
          <input type="text" id="dues-name" placeholder="Customer Name"/>
          <input type="number" step="0.01" id="dues-amount" placeholder="Amount"/>
          <input type="tel" id="dues-phone" placeholder="Phone"/>
          <input type="text" id="dues-address" placeholder="Address"/>
          <input type="date" id="dues-borrowed-date"/>
          <button type="submit" class="primary-btn">Add Due</button>
        </form>
        <input type="search" id="search-dues" placeholder="Search dues"/>
        <button id="export-dues" class="secondary-btn">Export</button>
        <input type="file" id="import-dues"/>
        <button id="import-dues-btn" class="secondary-btn">Import</button>
        <table>
          <thead><tr><th>ID</th><th>Customer</th><th>Amount</th><th>Phone</th><th>Address</th><th>Date</th><th>Status</th><th>Actions</th></tr></thead>
          <tbody id="dues-table-body"></tbody>
        </table>
      </section>

      <section id="pos" class="module-section">
        <h2>POS</h2>
        <div class="pos-container">
          <form class="pos-form">
            <input type="search" id="pos-item-search" list="pos-suggestions" placeholder="Search medicine"/>
            <datalist id="pos-suggestions"></datalist>
            <input type="number" id="pos-qty" placeholder="Qty"/>
            <button type="button" id="pos-add-to-cart" class="primary-btn">Add to Cart</button>
          </form>
          <div class="cart-summary">
            <p>Subtotal: ৳<span id="pos-subtotal">0.00</span></p>
            <p>Discount: <input type="number" id="pos-discount" value="0"/>%</p>
            <p>Discount Amount: ৳<span id="pos-discount-amount">0.00</span></p>
            <h3>Grand Total: ৳<span id="pos-grand-total">0.00</span></h3>
            <button type="button" id="pos-checkout" class="success-btn">Checkout</button>
          </div>
          <div class="pos-cart">
            <table>
              <thead><tr><th>Name</th><th>Qty</th><th>Price</th><th>Total</th><th>Actions</th></tr></thead>
              <tbody id="pos-cart-body"></tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="sales" class="module-section">
        <h2>Sales</h2>
        <input type="search" id="search-sales" placeholder="Search sales"/>
        <button id="export-sales" class="secondary-btn">Export</button>
        <input type="file" id="import-sales"/>
        <button id="import-sales-btn" class="secondary-btn">Import</button>
        <table>
          <thead><tr><th>ID</th><th>Date</th><th>Items</th><th>Total</th><th>Actions</th></tr></thead>
          <tbody id="sales-table-body"></tbody>
        </table>
      </section>
    </main>
  </div>

  <div id="modal" class="modal" aria-hidden="true">
    <div id="modal-panel" class="panel">
      <h2 id="modal-title"></h2>
      <div id="modal-content"></div>
      <div id="modal-actions"></div>
    </div>
  </div>

  <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("./service-worker.js")
      .then(() => console.log("Service Worker registered"))
      .catch((err) => console.error("SW registration failed:", err));
  }
  </script>
  <script type="module" src="js/app.js"></script>
</body>
</html>
